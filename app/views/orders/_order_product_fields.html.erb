<div class="nested-fields" id="order-product-container">
  <div class="row" data-tag-id="<%= f.object.id %>">
    <div class="col-2">
      <%= f.label :quantidade, 'Quantidade' %>
      <%= f.number_field :quantidade, class: 'form-control quantidade', min: 1, value: f.object.quantidade || 1, data: { action: "change->order#calculateTotal" } %>
    </div>
    <div class="col-9">
      <%= f.label :product_id, 'Produto' %>
    <%= f.select :product_id,
                  options_for_select(@products.map { |v| ["#{v.nome} - R$#{v.preco}/uni", v.id, { 'data-price': v.preco }] }, f.object.product_id),
                  { include_blank: 'Selecione o Produto' },
                  class: 'form-control product-select' %>
    </div>
    <div class="col-1">
      <% if params[:action] != 'show' %>
        <div class="row">
          <div class="col-2">
            <%= link_to_remove_association f, class: 'btn btn-danger mt-3' do %>
              <i class="fa fa-trash"></i>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
